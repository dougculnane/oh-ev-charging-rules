config:
  label: EV Charging Rules (debug)
  sidebar: true
blocks:
  - component: oh-block
    config: {}
    slots:
      default:
        - component: oh-grid-row
          config: {}
          slots:
            default:
              - component: oh-grid-col
                config: {}
                slots:
                  default:
                    - component: oh-list-card
                      config:
                        accordionList: true
                        mediaList: false
                        simpleList: false
                      slots:
                        default:
                          - component: oh-input-item
                            config:
                              item: evcr_charger_1_name
                              sendButton: false
                              title: Charger
                          - component: oh-label-item
                            config:
                              action: options
                              actionCommand: OFF,FAST,RULES
                              actionItem: evcr_charger_1_mode
                              actionOptions: OFF, FAST, RULES
                              iconUseState: false
                              item: evcr_charger_1_mode
                              title: Mode
                          - component: oh-label-item
                            config:
                              icon: oh:switch
                              iconUseState: true
                              item: evcr_charger_1_switch
                              title: Charger
                          - component: oh-label-item
                            config:
                              item: evcr_charger_1_phases
                              title: Phases
                          - component: oh-label-item
                            config:
                              item: evcr_charger_1_amps
                              title: Amps
                          - component: oh-label-item
                            config:
                              item: evcr_charger_1_power
                              title: Charge power
                          - component: oh-label-item
                            config:
                              item: evcr_charger_1_active_rule
                              title: Active Rule
                          - component: oh-label-item
                            config:
                              title: ="Timer rule (" + (items.evcr_charger_1_TIMER_switch.state) + ")"
                              icon: material:rule_folder
                            slots:
                              accordion:
                                - component: oh-list-card
                                  config:
                                    accordionList: false
                                    mediaList: false
                                    simpleList: false
                                  slots:
                                    default:
                                      - component: oh-label-item
                                        config:
                                          action: toggle
                                          actionCommand: ON
                                          actionCommandAlt: OFF
                                          actionItem: evcr_charger_1_TIMER_switch
                                          icon: oh:switch
                                          iconUseState: true
                                          item: evcr_charger_1_TIMER_switch
                                          title: Enable TIMER rule
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          item: evcr_charger_1_TIMER_start
                                          sendButton: true
                                          title: Timer start
                                          type: text
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          item: evcr_charger_1_TIMER_finish
                                          sendButton: true
                                          title: Timer finish
                                          type: text
                          - component: oh-label-item
                            config:
                              title: ="Cheap power rule (" + (items.evcr_charger_1_CHEAP_switch.state) + ")"
                              icon: material:rule_folder
                            slots:
                              accordion:
                                - component: oh-list-card
                                  config:
                                    accordionList: false
                                    mediaList: false
                                    simpleList: false
                                  slots:
                                    default:
                                      - component: oh-label-item
                                        config:
                                          action: toggle
                                          actionCommand: ON
                                          actionCommandAlt: OFF
                                          actionItem: evcr_charger_1_CHEAP_switch
                                          icon: oh:switch
                                          iconUseState: true
                                          item: evcr_charger_1_CHEAP_switch
                                          title: Enable CHEAP rule
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          item: evcr_cheap_power_price
                                          sendButton: true
                                          title: Cheap power price
                                          type: text
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          item: evcr_grid_power_price
                                          sendButton: true
                                          title: Grid power price
                                          type: text
                          - component: oh-label-item
                            config:
                              title: ="Best grid rule (" + (items.evcr_charger_1_BEST_GRID_switch.state) + ")"
                              icon: material:rule_folder
                            slots:
                              accordion:
                                - component: oh-list-card
                                  config:
                                    accordionList: false
                                    mediaList: false
                                    simpleList: false
                                  slots:
                                    default:
                                      - component: oh-label-item
                                        config:
                                          action: toggle
                                          actionCommand: ON
                                          actionCommandAlt: OFF
                                          actionItem: evcr_charger_1_BEST_GRID_switch
                                          icon: oh:switch
                                          iconUseState: true
                                          item: evcr_charger_1_BEST_GRID_switch
                                          title: Enable BEST_GRID rule
                                      - component: oh-label-item
                                        config:
                                          item: evcr_charger_1_BEST_GRID_start
                                          title: Timer start
                                      - component: oh-label-item
                                        config:
                                          item: evcr_charger_1_BEST_GRID_finish
                                          title: Timer finish
                          - component: oh-label-item
                            config:
                              title: ="Exported power rule (" + (items.evcr_charger_1_USE_EXPORT_switch.state)
                                + ")"
                              icon: material:rule_folder
                            slots:
                              accordion:
                                - component: oh-list-card
                                  config:
                                    accordionList: false
                                    mediaList: false
                                    simpleList: false
                                  slots:
                                    default:
                                      - component: oh-label-item
                                        config:
                                          action: toggle
                                          actionCommand: ON
                                          actionCommandAlt: OFF
                                          actionItem: evcr_charger_1_USE_EXPORT_switch
                                          icon: oh:switch
                                          iconUseState: true
                                          item: evcr_charger_1_USE_EXPORT_switch
                                          title: Enable USE_EXPORT rule
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          item: evcr_export_power
                                          sendButton: true
                                          title: Exported power
                                          type: text
                          - component: oh-label-item
                            config:
                              title: ="Target rule (" + (items.evcr_charger_1_TARGET_switch.state) + ")"
                              icon: material:rule_folder
                            slots:
                              accordion:
                                - component: oh-list-card
                                  config:
                                    accordionList: false
                                    mediaList: false
                                    simpleList: false
                                  slots:
                                    default:
                                      - component: oh-label-item
                                        config:
                                          action: toggle
                                          actionCommand: ON
                                          actionCommandAlt: OFF
                                          actionItem: evcr_charger_1_TARGET_switch
                                          icon: oh:switch
                                          iconUseState: true
                                          item: evcr_charger_1_TARGET_switch
                                          title: Enable TARGET rule
                          - component: oh-label-item
                            config:
                              title: ="Connected Car (" + (items.evcr_charger_1_connected_car.state) + ")"
                              icon: material:directions_car
                            slots:
                              accordion:
                                - component: oh-list-card
                                  config:
                                    accordionList: false
                                    mediaList: false
                                    simpleList: false
                                  slots:
                                    default:
                                      - component: oh-label-item
                                        config:
                                          item: ="evcr_charger_" + (items.evcr_charger_1_connected_car.state) +
                                            "_connected_car"
                                          title: Connected Car
                                          action: options
                                          actionOptions: 1,2
                                          actionItem: evcr_charger_1_connected_car
                                          icon: material:directions_car
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          title: Car name
                                          item: ="evcr_car_" + (items.evcr_charger_1_connected_car.state) +"_name"
                                          sendButton: true
                                          type: text
                                      - component: oh-slider-item
                                        config:
                                          item: ="evcr_car_" + (items.evcr_charger_1_connected_car.state) +
                                            "_battery_level"
                                          title: Actual battery level
                                          icon: oh:batterylevel
                                          ignoreDisplayState: true
                                          scale: true
                                          label: true
                                          iconUseState: true
                                          releaseOnly: true
                                          defaultValue: "0"
                                      - component: oh-slider-item
                                        config:
                                          item: ="evcr_car_" + (items.evcr_charger_1_connected_car.state) +
                                            "_target_level"
                                          title: Target battery level
                                          icon: oh:batterylevel
                                          ignoreDisplayState: true
                                          scale: true
                                          label: true
                                          iconUseState: true
                                          releaseOnly: true
                                          defaultValue: "100"
                                      - component: oh-input-item
                                        config:
                                          inputmode: text
                                          item: ="evcr_car_" + (items.evcr_charger_1_connected_car.state) +"_target_time"
                                          sendButton: true
                                          title: Target Time
                                          type: text
masonry: null
grid: []
canvas: []

